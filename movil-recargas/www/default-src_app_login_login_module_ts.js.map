{"version":3,"file":"default-src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/footer/footer.component.ts","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts"],"sourcesContent":["import {Component} from '@angular/core';\nimport {Router} from \"@angular/router\";\nimport {Mrn} from \"../providers/mrn\";\nimport {ApiService} from \"../providers/api\";\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.scss'],\n})\nexport class FooterComponent {\n\n  constructor(public mrn: Mrn,public api:ApiService) {\n  }\n\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\nimport {FooterComponent} from \"../footer/footer.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  exports: [\n    FooterComponent\n  ],\n  declarations: [LoginPage, FooterComponent]\n})\nexport class LoginPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\nimport {Router} from \"@angular/router\";\nimport {ApiService} from \"../providers/api\";\nimport {Mrn} from \"../providers/mrn\";\nimport {AlertController, LoadingController, Platform} from \"@ionic/angular\";\nimport { Storage } from '@ionic/storage-angular';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  constructor(private router:Router,public api:ApiService,private fb:FormBuilder,private storage: Storage,\n              public mrn:Mrn,public alertController: AlertController,public loadingController: LoadingController,\n              private platform: Platform) {\n    this.platform.keyboardDidShow.subscribe(ev => {\n      const { keyboardHeight } = ev;\n      if(ev['keyboardHeight']){\n        this.mrn.teclado_show = false;\n      }\n      // Do something with the keyboard height such as translating an input above the keyboard.\n    });\n\n    this.platform.keyboardDidHide.subscribe(() => {\n    });\n  }\n  async ngOnInit() {\n\n    this.mrn.loginForm.reset();\n    await this.storage.create();\n    this.storage.get('usuario').then((val) => {\n      if(val!= undefined){\n        this.mrn.login_actions(JSON.parse(val))\n      }else {\n        this.router.navigate(['login']);\n      }\n    })\n  }\n\n  login(){\n    if(this.mrn.loginForm.valid){\n      this.mrn.loginForm.patchValue({\n        username: this.mrn.loginForm.value['username'].toLowerCase(),\n        password: this.mrn.loginForm.value['password'].toLowerCase(),\n      })\n      this.mrn.presentLoading()\n      this.mrn.bad_login =  ''\n      this.mrn.loadingText = 'Verificando usuario'\n      this.api.login('api-token-auth', this.mrn.loginForm.value)\n        .subscribe(\n          data => {\n            if (data!= undefined) {\n              this.mrn.login_actions(data)\n            }else {\n              this.mrn.mensajes('El usuario o la contraseÃ±a son incorrectos.')\n            }\n            this.loadingController.dismiss()\n          }\n        )\n    }\n  }\n\n\n\n  async notLogged(){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'MRN Colombia',\n      message: 'Sus credenciales de acceso son incorrectas.',\n      buttons: [\n        {\n          text: 'Aceptar',\n          handler: () => {\n            this.api.usuario = '';\n            this.router.navigate(['/login']);\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n}\n"],"names":["Component","Mrn","ApiService","FooterComponent","mrn","api","selector","template","NgModule","RouterModule","LoginPage","routes","path","component","LoginPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","LoginPageModule","declarations","FormBuilder","Router","AlertController","LoadingController","Platform","Storage","router","fb","storage","alertController","loadingController","platform","keyboardDidShow","subscribe","keyboardHeight","ev","teclado_show","keyboardDidHide","loginForm","reset","create","get","then","val","undefined","login_actions","JSON","parse","navigate","valid","patchValue","username","value","toLowerCase","password","presentLoading","bad_login","loadingText","login","data","mensajes","dismiss","cssClass","header","message","buttons","text","handler","usuario","alert","present"],"sourceRoot":"webpack:///"}