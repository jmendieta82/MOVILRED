{"version":3,"file":"src_app_cartera_cartera_module_ts.js","mappings":"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","sources":["./src/app/cartera/cartera-routing.module.ts","./src/app/cartera/cartera.module.ts","./src/app/cartera/cartera.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CarteraPage } from './cartera.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CarteraPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CarteraPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CarteraPageRoutingModule } from './cartera-routing.module';\n\nimport { CarteraPage } from './cartera.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CarteraPageRoutingModule\n  ],\n  declarations: [CarteraPage]\n})\nexport class CarteraPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {Mrn} from \"../providers/mrn\";\nimport {Router} from \"@angular/router\";\nimport {ApiService} from \"../providers/api\";\nimport {PagarFacturaComponent} from \"../pagar-factura/pagar-factura.component\";\nimport {ModalController} from \"@ionic/angular\";\n\n@Component({\n  selector: 'app-cartera',\n  templateUrl: './cartera.page.html',\n  styleUrls: ['./cartera.page.scss'],\n})\nexport class CarteraPage implements OnInit {\n  constructor(public mrn:Mrn,public router:Router,public api:ApiService,public modalController: ModalController) { }\n\n  ngOnInit() {\n    this.mrn.getFacturasMora(this.api.nodoActual, false)\n    this.mrn.getCartera(this.api.nodoActual)\n  }\n  async presentModal() {\n    this.mrn.formPagos.patchValue({\n      abono:this.mrn.totalFacturasAPagar,\n      soporte:''\n    })\n    const modal = await this.modalController.create({\n      component: PagarFacturaComponent,\n    });\n    return await modal.present();\n  }\n\n  seleccionarFactura(transaccion: any) {\n    if(this.mrn.facturasSeleccionadas.filter(item=>item.id == transaccion.id).length){\n      this.mrn.facturasSeleccionadas.splice(this.mrn.facturasSeleccionadas.indexOf(this.mrn.facturasSeleccionadas.filter(item=>item.id == transaccion.id)[0]),1)\n    }else {\n      let factura = {\n        'id':transaccion.id,\n        'valor':transaccion.valor,\n        'nodo_id':transaccion.nodo.id,\n        'repr_legal':transaccion.nodo.representanteLegal,\n        'nodo':transaccion.nodo\n        ,'saldo_pendiente_pago':transaccion.saldo_pendiente_pago\n      }\n      this.mrn.facturasSeleccionadas.push(factura)\n    }\n    this.calcularTotal()\n  }\n\n  calcularTotal() {\n    this.mrn.totalFacturasAPagar = 0\n    for(let item of this.mrn.facturasSeleccionadas){\n      this.mrn.totalFacturasAPagar += parseInt(item.saldo_pendiente_pago)\n    }\n  }\n\n  doRefresh(event) {\n    this.mrn.getCartera(this.api.nodoActual)\n    this.mrn.getMisBolsasDinero();\n    this.mrn.getFacturasMora(this.api.nodoActual, false)\n    setTimeout(() => {\n      event.target.complete();\n    }, 2000);\n  }\n}\n"],"names":["NgModule","RouterModule","CarteraPage","routes","path","component","CarteraPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","CarteraPageModule","declarations","Component","Mrn","Router","ApiService","PagarFacturaComponent","ModalController","mrn","router","api","modalController","getFacturasMora","nodoActual","getCartera","formPagos","patchValue","abono","totalFacturasAPagar","soporte","create","modal","present","transaccion","facturasSeleccionadas","filter","item","id","length","splice","indexOf","factura","valor","nodo","representanteLegal","saldo_pendiente_pago","push","calcularTotal","parseInt","event","getMisBolsasDinero","setTimeout","target","complete","selector","template"],"sourceRoot":"webpack:///"}